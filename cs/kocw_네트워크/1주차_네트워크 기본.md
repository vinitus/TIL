# 1차시

### 인터넷이라는 네트워크 구조

네트워크의 가장자리에 어플리케이션과 호스트가 위치하게 됨 → 대표적인 것이 웹 브라우저

네트워크의 코어에는 라우터가 존재 → 네트워크와 네트워크를 연결

네트워크 사이를 연결시켜주는 communication link(와이파이, 인터넷 등)도 존재

### Network edge

일반적인 컴퓨터와 서버가 위치하는 곳 : 웹 브라우저에서 서버와 클라이언트

웹에서 통신이 이뤄질 때 컴퓨터의 내부 처리

1. request 메시지 생성
2. OS로 전달되고 TCP, IP 같은 계층에 따라 처리

TCP는 신뢰성, 순차적 서비스 ↔ UDP는 TCP보다 신뢰성은 떨어지나 가벼운 서비스

**프로토콜이란**

세상의 서로 다른 개체끼리 의사소통하게 해주는 rule(규약)

프로토콜이 맞지 않으면 메세지 교환이 이뤄지지 않음 → 한쪽은 TCP를 쓰고 한쪽은 UDP를 쓰면 통신이 이뤄지지 않음

### Network Core

라우터가 존재하는 영역이고 말단의 요청을 목적지까지 전달하는 역할

어떤 식으로 전달하는 것인가?

초기 인터넷 디자이너들이 패킷스위칭, 서킷스위칭 중 선택해야했음

결론적으로 패킷 스위칭을 선택했다.

1. 서킷 스위칭

출발점부터 목적지까지 회선을 예약해놔서 뻥뚫린 길로 쭉 보내는 거임

→ 예를 들어서 조선시대 왕이 행차할 때 신하가 먼저 가서 길을 열어두는 것 같은 거임

ex) 유선 전화

1. 패킷 스위칭

다른 이용자와 섞이는 멀티플렉싱구조

인터넷 데이터 통신의 최소 단위 : 패킷

보내고자 하는 패킷과 다른 이용자들의 패킷이 분류되게 섞여서 전달되는 것

인터넷 사용 패턴이 패킷 스위칭에 왜 적합할까?

서킷 스위칭에서 예약이 되어있는 상황 : 예약하고 계속 사용안하면?? 비효율적이 되어버림

→ 그러나 유선 전화에서 서로 말을 아예 안하는 경우는 없다.

하지만 웹 페이지에서 한번 사용하고 정보를 받고 읽고 다시 요청을 함

통신을 하지 않는 상황이 발생하기 때문이다.

대역폭에 한계가 있는데도 불구하고 서킷 스위칭에 따라 한명에 하나씩 할당하다보면

사용자가 몰려서 대역폭 이상의 데이터를 요구하게 된다면 문제가 발생함

### 라우터에서의 delay

사용자로부터 패킷을 받으면 목적지를 알아내고 목적지로 보내려고 해야함

1. processing delay → 목적지에 따른 어떤 라우터로 보내야 하는지 처리
    
    패킷이 도착했는데 이전의 패킷이 아직 처리되지 못했다면
    
    → 좋은 라우터를 쓰면 된다!
    
2. queueing delay → 패킷들은 queue에 저장되는데 아직 차례가 오지 못했다면 생기는 딜레이 (가변적)
    
    → 컨트롤하기 힘든 delay임… 이용자들의 이용 패턴에 따른 delay임
    
3. transmission delay → 자신의 차례가 와서 패킷 하나의 bit단위까지 전부 완전하게 link로 전달되기까지 걸리는 시간
    
    패킷의 크기가 100bits인데 라우터에 달린 케이블의 대역폭이 10bps → 완전하게 패킷하나가 나오는 시간은 10초가 걸림
    
    패킷은 쪼개질 수 없어서 이렇게 되는거다.
    
    → 대역폭을 키우면 됨
    
4. propagation delay
    
    패킷이 온전히 케이블에 올라왔을 때 다음 라우터까지 도달하는 시간 (빛의 속도에 근거)
    

근데 라우터의 큐가 다 차 있다면?? 못 들어가서 패킷을 버림 → **packet loss**

대부분의 네트워크 지연은 라우터에서의 queueing delay이다.

packet loss 해결법 → 유실된 packet을 재전송시킴 (retransmition)

누가할 것인가?? 사용자가 직접 or 유실시킨 라우터

현재 TCP는 OS안에 있음 TCP 계층에서 다시 보낸다!

라우터는 전달하기도 바쁜데 packet loss된 패킷을 재전송하긴 힘들다..

라우터는 애초에 TCP계층이 없고 바로 IP계층 밖에 없음